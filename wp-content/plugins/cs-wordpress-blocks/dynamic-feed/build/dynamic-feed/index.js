(()=>{"use strict";var e,s={835(e,s,o){const r=window.wp.blocks,t=window.wp.blockEditor,l=window.wp.i18n,c=window.wp.components,i=window.ReactJSXRuntime,n=[{label:(0,l.__)("Posts","cs-wordpress-blocks"),value:"post"},{label:(0,l.__)("Pages","cs-wordpress-blocks"),value:"page"}];function d({attributes:e,setAttributes:s}){const{postType:o,taxonomy:r}=e;return(0,i.jsxs)(c.PanelBody,{title:(0,l.__)("Source","cs-wordpress-blocks"),initialOpen:!0,children:[(0,i.jsx)(c.SelectControl,{label:(0,l.__)("Post type","cs-wordpress-blocks"),value:o,options:n,onChange:e=>s({postType:e})}),(0,i.jsx)(c.SelectControl,{label:(0,l.__)("Taxonomy","cs-wordpress-blocks"),value:r,options:[{label:(0,l.__)("Category","cs-wordpress-blocks"),value:"category"},{label:(0,l.__)("Tag","cs-wordpress-blocks"),value:"post_tag"}],onChange:e=>s({taxonomy:e,termIds:[]})}),(0,i.jsx)(c.Notice,{status:"info",isDismissible:!1,children:(0,l.__)("Next step: add a term picker. For now, the block will show the latest items using the settings below.","cs-wordpress-blocks")})]})}const a=[{label:(0,l.__)("Date","cs-wordpress-blocks"),value:"date"},{label:(0,l.__)("Title","cs-wordpress-blocks"),value:"title"},{label:(0,l.__)("Modified","cs-wordpress-blocks"),value:"modified"},{label:(0,l.__)("Comment count","cs-wordpress-blocks"),value:"comment_count"}],p=[{label:(0,l.__)("Descending","cs-wordpress-blocks"),value:"desc"},{label:(0,l.__)("Ascending","cs-wordpress-blocks"),value:"asc"}];function b({attributes:e,setAttributes:s}){const{orderBy:o,order:r,limit:t}=e;return(0,i.jsxs)(c.PanelBody,{title:(0,l.__)("Sorting & limit","cs-wordpress-blocks"),initialOpen:!1,children:[(0,i.jsx)(c.SelectControl,{label:(0,l.__)("Order by","cs-wordpress-blocks"),value:o,options:a,onChange:e=>s({orderBy:e})}),(0,i.jsx)(c.SelectControl,{label:(0,l.__)("Order","cs-wordpress-blocks"),value:r,options:p,onChange:e=>s({order:e})}),(0,i.jsx)(c.RangeControl,{label:(0,l.__)("Items to show","cs-wordpress-blocks"),value:t,min:1,max:20,onChange:e=>s({limit:e})})]})}function w({attributes:e,setAttributes:s}){const{showImage:o,showExcerpt:r,excerptLength:t,showMeta:n}=e;return(0,i.jsxs)(c.PanelBody,{title:(0,l.__)("Display","cs-wordpress-blocks"),initialOpen:!1,children:[(0,i.jsx)(c.ToggleControl,{label:(0,l.__)("Show featured image","cs-wordpress-blocks"),checked:!!o,onChange:e=>s({showImage:!!e})}),(0,i.jsx)(c.ToggleControl,{label:(0,l.__)("Show excerpt","cs-wordpress-blocks"),checked:!!r,onChange:e=>s({showExcerpt:!!e})}),r&&(0,i.jsx)(c.RangeControl,{label:(0,l.__)("Excerpt length (words)","cs-wordpress-blocks"),value:t,min:5,max:80,onChange:e=>s({excerptLength:e})}),(0,i.jsx)(c.ToggleControl,{label:(0,l.__)("Show meta (date/author)","cs-wordpress-blocks"),checked:!!n,onChange:e=>s({showMeta:!!e})})]})}const h=window.wp.serverSideRender;var u=o.n(h);function _({attributes:e}){const{postType:s,taxonomy:o,termIds:r,orderBy:c,order:n,limit:d,viewStyle:a,refreshKey:p}=e,b=(0,t.useBlockProps)({className:`cs-dynamic-feed cs-dynamic-feed--${a||"list"}`});return(0,i.jsxs)("div",{...b,children:[(0,i.jsx)("strong",{children:(0,l.__)("Dynamic Feed","cs-wordpress-blocks")}),(0,i.jsxs)("div",{style:{marginTop:8,opacity:.85},children:[(0,i.jsxs)("div",{children:[(0,l.__)("Post type:","cs-wordpress-blocks")," ",(0,i.jsx)("code",{children:s})]}),(0,i.jsxs)("div",{children:[(0,l.__)("Taxonomy:","cs-wordpress-blocks")," ",(0,i.jsx)("code",{children:o})]}),(0,i.jsxs)("div",{children:[(0,l.__)("Terms:","cs-wordpress-blocks")," ",(0,i.jsx)("code",{children:r?.length?r.join(", "):(0,l.__)("none","cs-wordpress-blocks")})]}),(0,i.jsxs)("div",{children:[(0,l.__)("Order:","cs-wordpress-blocks")," ",(0,i.jsxs)("code",{children:[c," ",n]})]}),(0,i.jsxs)("div",{children:[(0,l.__)("Limit:","cs-wordpress-blocks")," ",(0,i.jsx)("code",{children:d})]}),(0,i.jsxs)("div",{children:[(0,l.__)("View:","cs-wordpress-blocks")," ",(0,i.jsx)("code",{children:a})]})]}),(0,i.jsx)("div",{style:{marginTop:12},children:(0,i.jsx)(u(),{block:"cs/dynamic-feed",attributes:{...e,refreshKey:p||0}})})]})}const v={postType:"post",taxonomy:"category",termIds:[],orderBy:"date",order:"desc",limit:6,showImage:!0,showExcerpt:!0,excerptLength:24,showMeta:!0,viewStyle:"list",refreshKey:0},x=window.wp.primitives;var m=(0,i.jsx)(x.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(x.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})}),k=(0,i.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(x.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})});function g({attributes:e,setAttributes:s}){const{viewStyle:o,refreshKey:r}=e;return(0,i.jsxs)(t.BlockControls,{children:[(0,i.jsxs)(c.ToolbarGroup,{label:(0,l.__)("View","cs-wordpress-blocks"),children:[(0,i.jsx)(c.ToolbarButton,{icon:m,label:(0,l.__)("List view","cs-wordpress-blocks"),isPressed:"list"===o,onClick:()=>s({viewStyle:"list"})}),(0,i.jsx)(c.ToolbarButton,{icon:k,label:(0,l.__)("Card view","cs-wordpress-blocks"),isPressed:"cards"===o,onClick:()=>s({viewStyle:"cards"})})]}),(0,i.jsx)(c.ToolbarGroup,{children:(0,i.jsx)(c.ToolbarDropdownMenu,{icon:"ellipsis",label:(0,l.__)("Dynamic Feed actions","cs-wordpress-blocks"),controls:[{title:(0,l.__)("Refresh preview","cs-wordpress-blocks"),icon:"update",onClick:()=>{s({refreshKey:(r||0)+1})}},{title:(0,l.__)("Reset to defaults","cs-wordpress-blocks"),icon:"undo",onClick:()=>{window.confirm((0,l.__)("Reset Dynamic Feed settings to defaults?","cs-wordpress-blocks"))&&s({...v,refreshKey:(r||0)+1})}}]})})]})}const y=JSON.parse('{"UU":"cs/dynamic-feed"}');(0,r.registerBlockType)(y.UU,{edit:function({attributes:e,setAttributes:s}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,{attributes:e,setAttributes:s}),(0,i.jsxs)(t.InspectorControls,{children:[(0,i.jsx)(d,{attributes:e,setAttributes:s}),(0,i.jsx)(b,{attributes:e,setAttributes:s}),(0,i.jsx)(w,{attributes:e,setAttributes:s})]}),(0,i.jsx)(_,{attributes:e})]})}})}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var l=o[e]={exports:{}};return s[e](l,l.exports,r),l.exports}r.m=s,e=[],r.O=(s,o,t,l)=>{if(!o){var c=1/0;for(a=0;a<e.length;a++){for(var[o,t,l]=e[a],i=!0,n=0;n<o.length;n++)(!1&l||c>=l)&&Object.keys(r.O).every(e=>r.O[e](o[n]))?o.splice(n--,1):(i=!1,l<c&&(c=l));if(i){e.splice(a--,1);var d=t();void 0!==d&&(s=d)}}return s}l=l||0;for(var a=e.length;a>0&&e[a-1][2]>l;a--)e[a]=e[a-1];e[a]=[o,t,l]},r.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return r.d(s,{a:s}),s},r.d=(e,s)=>{for(var o in s)r.o(s,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},r.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={242:0,974:0};r.O.j=s=>0===e[s];var s=(s,o)=>{var t,l,[c,i,n]=o,d=0;if(c.some(s=>0!==e[s])){for(t in i)r.o(i,t)&&(r.m[t]=i[t]);if(n)var a=n(r)}for(s&&s(o);d<c.length;d++)l=c[d],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(a)},o=globalThis.webpackChunkdynamic_feed=globalThis.webpackChunkdynamic_feed||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))})();var t=r.O(void 0,[974],()=>r(835));t=r.O(t)})();